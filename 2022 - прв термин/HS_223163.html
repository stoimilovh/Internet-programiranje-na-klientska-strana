<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vtor Kolokvium 2022</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
</head>
<body>

</body>
<script>
    data = '[{"size":50,"color":"red"},{"size":40,"color":"green"},{"size":20,"color":"blue"},{"size":35,"color":"yellow"},{"size":25,"color":"orange"}]';
    data = JSON.parse(data);

    for(let i=0; i<data.length; i++){
        add_element(data[i]);
    }

    function add_element(element_data){
        let elem=document.createElement('div');
        elem.style['background-color']=element_data.color
        elem.style.height=element_data.size+"px";
        elem.style.width=element_data.size+"px";
        elem.style.position="absolute";
        elem.style.top=Math.random()*300+"px";
        elem.style.left=Math.random()*300+"px";
        elem.onclick = open
        document.body.appendChild(elem);
    }

    function open(event){
        let element = event.target;

        let nizaX=[50, 50, -50, -50];
        let nizaY=[-50, 50, -50, 50];
        for (let i=0; i<nizaY.length; i++){
            let clone = element.cloneNode(true);
            clone.onclick = open
            document.body.appendChild(clone);

            anime({
                targets: clone,
                top: (parseInt(element.style.top) + nizaX[i]),
                left: (parseInt(element.style.left) + nizaY[i]),
                easing: 'linear',
            })

        }
        document.body.removeChild(element);
    }


</script>
</html>